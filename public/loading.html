<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Loading...</title>
    <style>
    ::-webkit-scrollbar {
      display: none;
    }

    body {
      background-color: #ffffff;
      background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB2aWV3Qm94PSIwIDAgNzAwIDcwMCIgd2lkdGg9IjcwMCIgaGVpZ2h0PSI3MDAiPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBncmFkaWVudFRyYW5zZm9ybT0icm90YXRlKDEyNCwgMC41LCAwLjUpIiB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iZmZmbHV4LWdyYWRpZW50Ij48c3RvcCBzdG9wLWNvbG9yPSJoc2woODgsIDczJSwgNTIlKSIgc3RvcC1vcGFjaXR5PSIxIiBvZmZzZXQ9IjAlIj48L3N0b3A+PHN0b3Agc3RvcC1jb2xvcj0iaHNsKDE2NSwgNTklLCA1MyUpIiBzdG9wLW9wYWNpdHk9IjEiIG9mZnNldD0iMTAwJSI+PC9zdG9wPjwvbGluZWFyR3JhZGllbnQ+PGZpbHRlciBpZD0iZmZmbHV4LWZpbHRlciIgeD0iLTIwJSIgeT0iLTIwJSIgd2lkdGg9IjE0MCUiIGhlaWdodD0iMTQwJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBwcmltaXRpdmVVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CiAgPGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuMDA1IDAuMDAzIiBudW1PY3RhdmVzPSIyIiBzZWVkPSIxNDIiIHN0aXRjaFRpbGVzPSJzdGl0Y2giIHg9IjAlIiB5PSIwJSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcmVzdWx0PSJ0dXJidWxlbmNlIj48L2ZlVHVyYnVsZW5jZT4KICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyMCAwIiB4PSIwJSIgeT0iMCUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGluPSJ0dXJidWxlbmNlIiBlZGdlTW9kZT0iZHVwbGljYXRlIiByZXN1bHQ9ImJsdXIiPjwvZmVHYXVzc2lhbkJsdXI+CiAgPGZlQmxlbmQgbW9kZT0iY29sb3ItZG9kZ2UiIHg9IjAlIiB5PSIwJSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ciIgcmVzdWx0PSJibGVuZCI+PC9mZUJsZW5kPgogIAo8L2ZpbHRlcj48L2RlZnM+PHJlY3Qgd2lkdGg9IjcwMCIgaGVpZ2h0PSI3MDAiIGZpbGw9InVybCgjZmZmbHV4LWdyYWRpZW50KSIgZmlsdGVyPSJ1cmwoI2ZmZmx1eC1maWx0ZXIpIj48L3JlY3Q+PC9zdmc+");
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100%;
      position: absolute;
      width: 100%;
      left: 0;
      color: #00bb77;
      top: 0;
      font-size: 12px;
    }

    .message {
      margin: 2em;
      padding: 15px;
    }

    .message__text {
      font-weight: bolder;
      font-size: 1.5em;
      color: rgb(25, 21, 83);
    }

    .message__author {
      opacity: 0.5;
      margin-top: 0.5em;
    }

    .status {
      opacity: 0.5;
    }

    .loader {
      color: #00bb77;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .progress-container {
      width: 200px;
      height: 20px;
      background-color: #55d3a5;
      border-radius: 10px;
      margin-top: 20px;
      overflow: hidden;
      font-weight: bolder;
    }

    .progress-bar {
      width: 0;
      height: 100%;
      background-color: #02754b;
      transition: width 0.5s ease-in-out;
    }

    .progress-text {
      margin-top: 10px;
      font-size: 14px;
      font-weight: bolder;
      color: #22be85;
    }

    .event-status {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 12px;
      background-color: #42e0a99d;
      color: white;
      font-size: 14px;
      font-weight: bolder;
      margin-top: 10px;
      box-shadow: 0 0 1rem rgba(27, 170, 110, 0.699);
    }

    .blob {
      width: 2rem;
      height: 2rem;
      background: transparent;
      border-radius: 50%;
      position: absolute;
      left: calc(50% - 1rem);
      top: calc(25% - 1rem);
      box-shadow: 0 0 1rem rgba(27, 170, 110, 0.699);
    }

    .blob-2 {
      -webkit-animation: animate-to-2 1.5s infinite;
      animation: animate-to-2 1.5s infinite;
    }

    .blob-3 {
      -webkit-animation: animate-to-3 1.5s infinite;
      animation: animate-to-3 1.5s infinite;
    }

    .blob-1 {
      -webkit-animation: animate-to-1 1.5s infinite;
      animation: animate-to-1 1.5s infinite;
    }

    .blob-4 {
      -webkit-animation: animate-to-4 1.5s infinite;
      animation: animate-to-4 1.5s infinite;
    }

    .blob-0 {
      -webkit-animation: animate-to-0 1.5s infinite;
      animation: animate-to-0 1.5s infinite;
    }

    .blob-5 {
      -webkit-animation: animate-to-5 1.5s infinite;
      animation: animate-to-5 1.5s infinite;
    }

    @-webkit-keyframes animate-to-2 {
      25%,
      75% {
        transform: translateX(-1.5rem) scale(0.75);
      }

      95% {
        transform: translateX(0rem) scale(1);
      }
    }

    @keyframes animate-to-2 {
      25%,
      75% {
        transform: translateX(-1.5rem) scale(0.75);
      }

      95% {
        transform: translateX(0rem) scale(1);
      }
    }

    @-webkit-keyframes animate-to-3 {
      25%,
      75% {
        transform: translateX(1.5rem) scale(0.75);
      }

      95% {
        transform: translateX(0rem) scale(1);
      }
    }

    @keyframes animate-to-3 {
      25%,
      75% {
        transform: translateX(1.5rem) scale(0.75);
      }

      95% {
        transform: translateX(0rem) scale(1);
      }
    }

    @-webkit-keyframes animate-to-1 {
      25% {
        transform: translateX(-1.5rem) scale(0.75);
      }

      50%,
      75% {
        transform: translateX(-4.5rem) scale(0.6);
      }

      95% {
        transform: translateX(0rem) scale(1);
      }
    }

    @keyframes animate-to-1 {
      25% {
        transform: translateX(-1.5rem) scale(0.75);
      }

      50%,
      75% {
        transform: translateX(-4.5rem) scale(0.6);
      }

      95% {
        transform: translateX(0rem) scale(1);
      }
    }

    @-webkit-keyframes animate-to-4 {
      25% {
        transform: translateX(1.5rem) scale(0.75);
      }

      50%,
      75% {
        transform: translateX(4.5rem) scale(0.6);
      }

      95% {
        transform: translateX(0rem) scale(1);
      }
    }

    @keyframes animate-to-4 {
      25% {
        transform: translateX(1.5rem) scale(0.75);
      }

      50%,
      75% {
        transform: translateX(4.5rem) scale(0.6);
      }

      95% {
        transform: translateX(0rem) scale(1);
      }
    }

    @-webkit-keyframes animate-to-0 {
      25% {
        transform: translateX(-1.5rem) scale(0.75);
      }

      50% {
        transform: translateX(-4.5rem) scale(0.6);
      }

      75% {
        transform: translateX(-7.5rem) scale(0.5);
      }

      95% {
        transform: translateX(0rem) scale(1);
      }
    }

    @keyframes animate-to-0 {
      25% {
        transform: translateX(-1.5rem) scale(0.75);
      }

      50% {
        transform: translateX(-4.5rem) scale(0.6);
      }

      75% {
        transform: translateX(-7.5rem) scale(0.5);
      }

      95% {
        transform: translateX(0rem) scale(1);
      }
    }

    @-webkit-keyframes animate-to-5 {
      25% {
        transform: translateX(1.5rem) scale(0.75);
      }

      50% {
        transform: translateX(4.5rem) scale(0.6);
      }

      75% {
        transform: translateX(7.5rem) scale(0.5);
      }

      95% {
        transform: translateX(0rem) scale(1);
      }
    }

    @keyframes animate-to-5 {
      25% {
        transform: translateX(1.5rem) scale(0.75);
      }

      50% {
        transform: translateX(4.5rem) scale(0.6);
      }

      75% {
        transform: translateX(7.5rem) scale(0.5);
      }

      95% {
        transform: translateX(0rem) scale(1);
      }
    }
    </style>
  </head>

  <body>
    <div class="loader">
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1">
          <defs>
            <filter id="gooey">
              <feGaussianBlur
                in="SourceGraphic"
                stdDeviation="10"
                result="blur"
              >
              </feGaussianBlur>
              <feColorMatrix
                in="blur"
                mode="matrix"
                values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7"
                result="goo"
              >
              </feColorMatrix>
              <feBlend in="SourceGraphic" in2="goo"></feBlend>
            </filter>
          </defs>
        </svg>
        <div class="blob blob-0"></div>
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
        <div class="blob blob-4"></div>
        <div class="blob blob-5"></div>
      </div>
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
      <div class="event-status" id="event-status">...</div>
    </div>
    <script>
    const { ipcRenderer } = require("electron");

    const progressBar = document.getElementById("progress-bar");
    const eventStatus = document.getElementById("event-status");

    function updateProgress(percent) {
      progressBar.style.width = `${percent}%`;
    }

    ipcRenderer.on("download-progress", (event, progress) => {
      updateProgress(progress);
      status.textContent = "Downloading latest data";
    });

    ipcRenderer.on("download-status", (event, statusText) => {
      status.textContent = statusText.charAt(0).toUpperCase() + statusText.slice(1);
    });

    ipcRenderer.on("download-complete", () => {
      updateProgress(100);
      status.textContent = "Download complete!";
    });

    ipcRenderer.on("download-error", (event, errorMessage) => {
      status.textContent = `Error: ${errorMessage}`;
    });

    ipcRenderer.on("current-status", (event, statusText) => {
      eventStatus.textContent = statusText;
    });
    </script>
  </body>
</html>
